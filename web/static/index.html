<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHT CCTV System</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>SHT λ“€μ–Ό μΉ΄λ©”λΌ CCTV <span class="badge">GPU κ°€μ†</span></h1>
        
        <div class="status">
            <div class="status-grid">
                <div class="status-item">
                    <strong>ν™μ„± μΉ΄λ©”λΌ:</strong> <span id="current-camera">0</span>
                </div>
                <div class="status-item">
                    <strong>ν•΄μƒλ„:</strong> <span id="resolution">640Γ—480</span>
                </div>
                <div class="status-item">
                    <strong>GPU:</strong> <span id="gpu">VideoCore VII</span>
                </div>
                <div class="status-item">
                    <strong>FPS:</strong> <span id="fps">0.0</span>
                </div>
                <div class="status-item">
                    <strong>ν”„λ μ„ μ:</strong> <span id="frame-count">0</span>
                </div>
                <div class="status-item">
                    <strong>μ ‘μ† ν΄λΌμ΄μ–ΈνΈ:</strong> <span id="client-count">0/1</span>
                </div>
                <div class="status-item">
                    <strong>ν‰κ·  ν”„λ μ„ ν¬κΈ°:</strong> <span id="frame-size">0 KB</span>
                </div>
                <div class="status-item">
                    <strong>μƒνƒ:</strong> <span id="stream-status">μ¤€λΉ„ μ¤‘</span>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <div class="control-section">
                <h3>μΉ΄λ©”λΌ μ„ νƒ</h3>
                <button class="camera-btn active" id="cam0-btn" onclick="switchCamera(0)">
                    μΉ΄λ©”λΌ 0
                </button>
                <button class="camera-btn" id="cam1-btn" onclick="switchCamera(1)">
                    μΉ΄λ©”λΌ 1
                </button>
            </div>
            
            <div class="control-section">
                <h3>ν•΄μƒλ„ μ„ νƒ</h3>
                <button class="resolution-btn active" id="res-640-btn" onclick="changeResolution('640x480')">
                    π“Ί 480p (640Γ—480)
                </button>
                <button class="resolution-btn" id="res-720-btn" onclick="changeResolution('1280x720')">
                    π“Ί 720p (1280Γ—720)
                </button>
            </div>
            
            <div class="control-section">
                <h3>μ‹μ¤ν… μ μ–΄</h3>
                <div style="display: flex; align-items: center; justify-content: center;">
                    <a href="/exit" class="exit-btn">
                        π›‘  CCTV μΆ…λ£
                    </a>
                    <!-- ν•νΈλΉ„νΈ μΈλ””μΌ€μ΄ν„° -->
                    <div class="heartbeat-container">
                        <div class="heartbeat-indicator green" id="heartbeat-indicator"></div>
                        <span class="heartbeat-text" id="heartbeat-text">LIVE</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="video-container resolution-640" id="video-container">
            <img id="video-stream" src="/stream" alt="Picamera2 Live Stream">
        </div>
        
        <p>Pi5 VideoCore VII GPU ν•λ“μ›¨μ–΄ κ°€μ†</p>
    </div>
    
    <script src="/static/script.js"></script>
</body>
</html>